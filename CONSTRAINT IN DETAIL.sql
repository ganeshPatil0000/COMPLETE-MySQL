create database if not exists practice_Constraints;
use practice_Constraints;

-- 1) UNIQUE CONSTRAINT

DROP TABLE UNIQUECONSTRAINT;
CREATE TABLE UNIQUECONSTRAINT(
	ROLL_NO INT(10),
    SNAME VARCHAR(50),
    ADDRESS VARCHAR(50),
    UNIQUE (SNAME)
);

ALTER TABLE UNIQUECONSTRAINT
ADD CONSTRAINT UNIQUE(ADDRESS);

TRUNCATE TABLE UNIQUECONSTRAINT;

INSERT INTO UNIQUECONSTRAINT
VALUES(2010030,'GANESH','PUNE'),
(2010045,'TEJAS','KOLHAPUR'),
(2010070,'DHANRAJ','YEVLUJ');

SELECT * FROM UNIQUECONSTRAINT;

INSERT INTO UNIQUECONSTRAINT
VALUES(2010080,NULL,'KOLHAPUR');


-- 2) NOT NULL CONSTRAINT

DROP TABLE NOTNULLCONSTRAINT;
CREATE TABLE NOTNULLCONSTRAINT(
	ROLL_NO INT(10) UNIQUE NOT NULL,
    SNAME VARCHAR(50),
    ADDRESS VARCHAR(50)
);

INSERT INTO NOTNULLCONSTRAINT
VALUES(2010030,'GANESH','PUNE'),
(2010045,'TEJAS','KOLHAPUR'),
(2010070,'DHANRAJ','YEVLUJ');

INSERT INTO NOTNULLCONSTRAINT
VALUES(2010080,NULL,'KOLHAPUR');

SELECT * FROM NOTNULLCONSTRAINT;

ALTER TABLE NOTNULLCONSTRAINT
MODIFY ADDRESS VARCHAR(50) NOT NULL;


-- 3) CHECK CONSTRAINT

DROP TABLE CHECKCONSTRAINT;
CREATE TABLE CHECKCONSTRAINT(
	ROLL_NO INT(10),
    SNAME VARCHAR(50),
    ADDRESS VARCHAR(50),
    AGE INT(3),
    CHECK (AGE>18)
);

TRUNCATE TABLE CHECKCONSTRAINT;

INSERT INTO CHECKCONSTRAINT
VALUES(2010030,'GANESH','PUNE',21),
(2010045,'TEJAS','KOLHAPUR',21),
(2010070,'DHANRAJ','YEVLUJ',21);

SELECT * FROM CHECKCONSTRAINT;

INSERT INTO CHECKCONSTRAINT
VALUES(2010080,'RAMESH','KOLHAPUR',NULL);

ALTER TABLE NOTNULLCONSTRAINT
ADD CHECK (AGE>15);

-- 4) DEFAUT CONSTRAINT

DROP TABLE DEFAULTCONSTRAINT;
CREATE TABLE DEFAULTCONSTRAINT(
	ROLL_NO INT(10),
    SNAME VARCHAR(50),
    ADDRESS VARCHAR(50),
    AGE INT(3) DEFAULT 28
);

TRUNCATE TABLE DEFAULTCONSTRAINT;

INSERT INTO DEFAULTCONSTRAINT(ROLL_NO, SNAME, ADDRESS) 
VALUES(2010030,'GANESH','PUNE'),
(2010045,'TEJAS','KOLHAPUR'),
(2010070,'DHANRAJ','YEVLUJ');

SELECT * FROM DEFAULTCONSTRAINT;

INSERT INTO DEFAULTCONSTRAINT
VALUES(2010080,'RAMESH','KOLHAPUR',NULL);

ALTER TABLE NOTNULLCONSTRAINT
ALTER COLUMN AGE SET DEFAULT 29;


-- 5) PRIMARY KEY CONSTRAINT

DROP TABLE PRIMARYKEYCONSTRAINT;
CREATE TABLE PRIMARYKEYCONSTRAINT(
	ROLL_NO INT(10),
    SNAME VARCHAR(50),
    ADDRESS VARCHAR(50),
    AGE INT(3) ,
    PRIMARY KEY (ROLL_NO)
);

TRUNCATE TABLE PRIMARYKEYCONSTRAINT;

INSERT INTO PRIMARYKEYCONSTRAINT(ROLL_NO, SNAME, ADDRESS) 
VALUES(2010030,'GANESH','PUNE'),
(2010045,'TEJAS','KOLHAPUR'),
(2010070,'DHANRAJ','YEVLUJ');

SELECT * FROM PRIMARYKEYCONSTRAINT;

INSERT INTO PRIMARYKEYCONSTRAINT
VALUES(2010080,'RAMESH','KOLHAPUR');

ALTER TABLE PRIMARYKEYCONSTRAINT
ADD PRIMARY KEY (ROLL_NO);

ALTER TABLE PRIMARYKEYCONSTRAINT
DROP COLUMN AGE;


-- 6) FOREIGN KEY CONSTRAINT

create table ashokit_companies_info(company_code varchar(10),
                                    company_name varchar(30) not null,
                                    country varchar(50) not null,
                                    primary key(company_code),
                                    CID INT
                                    );
                                    
create table ashokit_products_info(pid varchar(10) primary key,
                                   pname varchar(30) not null,
                                   pcost INT,
                                   pmfg_dt date not null,
                                   pwarranty varchar(50) not null,
                                   company_code varchar(10),
                                   CID INT,
                                   FOREIGN KEY(COMPANY_CODE) REFERENCES ashokit_companies_info(COMPANY_CODE)
                                 );